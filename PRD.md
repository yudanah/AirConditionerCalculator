# ğŸ“„ PRD - ì—ì–´ì»¨ ì „ê¸°ìš”ê¸ˆ ê³„ì‚°ê¸°

## 1. ì œí’ˆ ê°œìš”
ì‚¬ìš©ìê°€ ì—ì–´ì»¨ ì‚¬ìš© ì¡°ê±´(ì „ë ¥, ì˜¨ë„, ë°”ëŒ ì„¸ê¸°, ì‹œê°„)ì„ ì…ë ¥í•˜ë©´, ì‚¬ìš© ë‚´ì—­ì´ ì¥ë°”êµ¬ë‹ˆì²˜ëŸ¼ ëˆ„ì ë˜ê³  í•˜ë£¨ ì˜ˆìƒ ì „ê¸°ìš”ê¸ˆì„ ê³„ì‚°í•´ì£¼ëŠ” ì›¹ì•±.  
ë¡œê·¸ì¸ í›„ ì¼ìë³„/ì£¼ë³„/ì›”ë³„ í†µê³„ì™€ ë‹¤ë¥¸ ì‚¬ìš©ì í‰ê·  ë¹„êµê°€ ê°€ëŠ¥í•¨.

---

## 2. ì£¼ìš” ê¸°ëŠ¥

### 2.1 ì—ì–´ì»¨ ì‚¬ìš©ëŸ‰ ì…ë ¥
- **ì…ë ¥ í•­ëª©**
  - ì—ì–´ì»¨ ì „ë ¥(W)
  - ì„¤ì • ì˜¨ë„ (18Â°C ~ 28Â°C)
  - ë°”ëŒ ì„¸ê¸° (ì•½í’ / ì¤‘í’ / ê°•í’ / í„°ë³´)
  - ì‚¬ìš© ì‹œê°„ (0.5ì‹œê°„ ë‹¨ìœ„)
- ì…ë ¥ ê°’ ë³€ê²½ ì‹œ ì˜ˆìƒ ì „ê¸°ìš”ê¸ˆ ìë™ ê³„ì‚°
- â€œì‚¬ìš©ë‚´ì—­ ì¶”ê°€í•˜ê¸°â€ ë²„íŠ¼ í´ë¦­ ì‹œ ì¥ë°”êµ¬ë‹ˆ í˜•íƒœë¡œ ëˆ„ì 

---

### 2.2 ì‚¬ìš© ë‚´ì—­ ê´€ë¦¬
- ì˜¤ëŠ˜ ì‚¬ìš©í•œ ë‚´ì—­ ëª©ë¡ í‘œì‹œ
- ê° ë‚´ì—­ì— ì‹œê°„, ì „ë ¥, ì˜¨ë„, ë°”ëŒ ì„¸ê¸°, ì‚¬ìš© ìš”ê¸ˆ í‘œì‹œ
- ì „ì²´ í•©ê³„, ì´ ì‚¬ìš© ì „ë ¥(kWh), í‰ê·  ì‹œê°„ë‹¹ ìš”ê¸ˆ í‘œì‹œ
- ì´ˆê¸°í™” ê¸°ëŠ¥ ì œê³µ

---

### 2.3 ë°ì´í„° ì €ì¥
- Supabase DBì— ë§¤ì¼ ë°ì´í„° ì €ì¥
- ë‚ ì§œë³„ ê¸°ë¡ ê´€ë¦¬ ê°€ëŠ¥
- ì¹´ì¹´ì˜¤í†¡ ë¡œê·¸ì¸ ê¸°ë°˜ ê°œì¸í™” ì €ì¥

---

### 2.4 í†µê³„ ëŒ€ì‹œë³´ë“œ
- ë¡œê·¸ì¸ í›„ ì‚¬ìš© ê°€ëŠ¥
- ì¼ë³„/ì£¼ë³„/ì›”ë³„ ì‚¬ìš©ëŸ‰ ë° ìš”ê¸ˆ í†µê³„
- í‰ê·  ì‚¬ìš©ëŸ‰ê³¼ ë‹¤ë¥¸ ì‚¬ìš©ì í‰ê·  ë¹„êµ ì°¨íŠ¸ ì œê³µ

---

### 2.5 ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸
- ì¹´ì¹´ì˜¤ ê³„ì •ìœ¼ë¡œ ë¡œê·¸ì¸
- ë¡œê·¸ì¸ ì‹œ DBì— ì‚¬ìš©ì ê³ ìœ  IDì™€ ì‚¬ìš© ë°ì´í„° ì—°ê²°

---

## 3. ê¸°ìˆ  ìŠ¤íƒ
- **í”„ë ˆì„ì›Œí¬**: React
- **ì–¸ì–´**: TypeScript
- **ë°ì´í„°ë² ì´ìŠ¤**: Supabase
- **ê¸°íƒ€**: ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸ API
- **ë°°í¬ í™˜ê²½**: Vercel

---

## 4. ë°ì´í„°ë² ì´ìŠ¤ êµ¬ì¡°

### 4.1 í…Œì´ë¸”: `users`
| ì»¬ëŸ¼ëª…       | íƒ€ì…         | ì„¤ëª…                  |
|--------------|--------------|-----------------------|
| id           | uuid         | ì‚¬ìš©ì ê³ ìœ  ID (PK)   |
| kakao_id     | text         | ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸ ID      |
| nickname     | text         | ì‚¬ìš©ì ë‹‰ë„¤ì„         |
| created_at   | timestamp    | ê°€ì… ì¼ì             |

---

### 4.2 í…Œì´ë¸”: `usage_logs`
| ì»¬ëŸ¼ëª…       | íƒ€ì…         | ì„¤ëª…                                |
|--------------|--------------|-------------------------------------|
| id           | uuid         | ë¡œê·¸ ID (PK)                        |
| user_id      | uuid         | `users.id` ì°¸ì¡°                     |
| date         | date         | ì‚¬ìš© ì¼ì                           |
| power_w      | integer      | ì—ì–´ì»¨ ì „ë ¥(W)                      |
| temperature  | integer      | ì„¤ì • ì˜¨ë„(Â°C)                       |
| wind_level   | text         | ë°”ëŒ ì„¸ê¸° (low, mid, high, turbo)   |
| hours        | numeric      | ì‚¬ìš© ì‹œê°„ (0.5 ë‹¨ìœ„)                 |
| kwh          | numeric      | ì‚¬ìš© ì „ë ¥ëŸ‰(kWh)                    |
| cost         | integer      | ì‚¬ìš© ìš”ê¸ˆ(ì›)                       |
| created_at   | timestamp    | ê¸°ë¡ ìƒì„±ì¼                         |

---

### 4.3 í…Œì´ë¸”: `statistics`
| ì»¬ëŸ¼ëª…       | íƒ€ì…         | ì„¤ëª…                                |
|--------------|--------------|-------------------------------------|
| id           | uuid         | í†µê³„ ID (PK)                        |
| user_id      | uuid         | `users.id` ì°¸ì¡°                     |
| period_type  | text         | daily / weekly / monthly            |
| period_start | date         | ê¸°ê°„ ì‹œì‘ì¼                         |
| period_end   | date         | ê¸°ê°„ ì¢…ë£Œì¼                         |
| total_hours  | numeric      | ì´ ì‚¬ìš© ì‹œê°„                         |
| total_kwh    | numeric      | ì´ ì „ë ¥ ì‚¬ìš©ëŸ‰(kWh)                 |
| total_cost   | integer      | ì´ ìš”ê¸ˆ(ì›)                         |
| avg_hours    | numeric      | í‰ê·  ì‹œê°„                           |
| avg_cost     | numeric      | í‰ê·  ìš”ê¸ˆ                           |
| created_at   | timestamp    | ê¸°ë¡ ìƒì„±ì¼                         |

---

## 5. í…Œì´ë¸” ìƒì„± ì¿¼ë¦¬

```sql
-- Users table
create table users (
    id uuid primary key default gen_random_uuid(),
    kakao_id text unique not null,
    nickname text,
    created_at timestamp default now()
);

-- Usage logs
create table usage_logs (
    id uuid primary key default gen_random_uuid(),
    user_id uuid references users(id) on delete cascade,
    date date not null,
    power_w integer not null,
    temperature integer not null,
    wind_level text not null,
    hours numeric(4,1) not null,
    kwh numeric(6,3) not null,
    cost integer not null,
    created_at timestamp default now()
);

-- Statistics table
create table statistics (
    id uuid primary key default gen_random_uuid(),
    user_id uuid references users(id) on delete cascade,
    period_type text check (period_type in ('daily','weekly','monthly')),
    period_start date not null,
    period_end date not null,
    total_hours numeric(6,1) not null,
    total_kwh numeric(8,3) not null,
    total_cost integer not null,
    avg_hours numeric(6,2),
    avg_cost numeric(8,2),
    created_at timestamp default now()
);
